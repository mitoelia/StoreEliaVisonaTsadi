<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>Connessione tramite la crittografia SSL</title><meta name="Language" content="it-it" /><meta name="System.Keywords" content="crittografia" /><meta name="System.Keywords" content="SSL" /><meta name="Microsoft.Help.Id" content="ec91fa8a-ab7e-4c1e-a05a-d7951ddf33b1" /><meta name="Description" content="Negli esempi di questo argomento viene descritto come utilizzare le proprietà della stringa di connessione che consentono alle applicazioni di utilizzare la crittografia SSL (Secure Sockets Layer) in un'applicazione Java." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><link rel="stylesheet" type="text/css" href="../local/Classic.css" /><script type="text/javascript" src="../scripts/EventUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/SplitScreen.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/Dropdown.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_manifold.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_feedBack.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CheckboxMenu.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CommonUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../local/script_main.js">&amp;nbsp;</script></head><body><div id="header"><table id="bottomTable" cellpadding="0" cellspacing="0"><tr><td align="left"><span id="headerBold">Connessione tramite la crittografia SSL</span></td></tr></table><table id="gradientTable"><tr><td class="nsrBottom" background="../icons/gradient.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><div class="introduction"><p>Negli esempi di questo argomento viene descritto come utilizzare le proprietà della stringa di connessione che consentono alle applicazioni di utilizzare la crittografia SSL (Secure Sockets Layer) in un'applicazione Java. Per ulteriori informazioni su queste nuove proprietà della stringa di connessione, ad esempio <span class="label">encrypt</span>, <span class="label">trustServerCertificate</span>, <span class="label">trustStore</span>, <span class="label">trustStorePassword</span> e <span class="label">hostNameInCertificate</span>, vedere <span sdata="link"><a href="f1b62700-f046-488d-bd6b-a5cd8fc345b7.htm">Impostazione delle proprietà delle connessioni</a></span>.</p><p>Quando la proprietà <span class="label">encrypt</span> è impostata su <span sdata="langKeyword" value="true"><span class="keyword">true</span></span> e la proprietà <span class="label">trustServerCertificate</span> è impostata su <span sdata="langKeyword" value="true"><span class="keyword">true</span></span>, il certificato SSL di SQL Server non viene convalidato da Microsoft JDBC Driver per SQL Server. Ciò è in genere necessario per consentire le connessioni in ambienti di test, ad esempio nel caso in cui l'istanza di SQL Server disponga solo di un certificato autofirmato.</p><p>Nell'esempio di codice seguente viene illustrato come impostare la proprietà <span class="label">trustServerCertificate</span> in una stringa di connessione:</p><div class="sampleCode"><span codeLanguage="other"><pre>String connectionUrl = 
    "jdbc:sqlserver://localhost:1433;" +
     "databaseName=AdventureWorks;integratedSecurity=true;" +
     "encrypt=true;trustServerCertificate=true";</pre></span></div><p>Quando la proprietà <span class="label">encrypt</span> è impostata su <span sdata="langKeyword" value="true"><span class="keyword">true</span></span> e la proprietà <span class="label">trustServerCertificate</span> è impostata su <span sdata="langKeyword" value="false"><span class="keyword">false</span></span>, il certificato SSL di SQL Server non viene convalidato da Microsoft JDBC Driver per SQL Server. La convalida del certificato del server fa parte dell'handshake SSL e assicura che il server a cui si esegue la connessione sia quello corretto. Per la convalida del certificato del server è necessario che in fase di connessione venga fornito il materiale relativo all'attendibilità utilizzando in modo esplicito le proprietà di connessione <span class="label">trustStore</span> e <span class="label">trustStorePassword</span> oppure utilizzando in modo implicito l'archivio di attendibilità predefinito JVM (Java Virtual Machine) sottostante. </p><p>La proprietà <span class="label">trustStore</span> specifica il percorso (incluso il nome file) del file trustStore dei certificati, che contiene l'elenco di certificati considerati attendibili dal client. La proprietà <span class="label">trustStorePassword</span> specifica la password utilizzata per verificare l'integrità dei dati del file trustStore. Per ulteriori informazioni sull'utilizzo dell'archivio di attendibilità predefinito di JVM, vedere <span sdata="link"><a href="ae34cd1f-3569-4759-80c7-7c9b33b3e9eb.htm">Configurazione del client per la crittografia SSL</a></span>.</p><p>Nell'esempio di codice seguente viene illustrato come impostare le proprietà <span class="label">trustStore</span> e <span class="label">trustStorePassword</span> in una stringa di connessione: </p><div class="sampleCode"><span codeLanguage="other"><pre>String connectionUrl = 
    "jdbc:sqlserver://localhost:1433;" +
     "databaseName=AdventureWorks;integratedSecurity=true;" +
     "encrypt=true; trustServerCertificate=false;" +
     "trustStore=storeName;trustStorePassword=storePassword";</pre></span></div><p>Il driver JDBC fornisce una proprietà aggiuntiva, <span class="label">hostNameInCertificate</span>, che specifica il nome host del server. Il valore di questa proprietà deve corrispondere alla proprietà relativa al soggetto del certificato. </p><p>Nell'esempio di codice seguente viene illustrato come utilizzare la proprietà <span class="label">hostNameInCertificate</span> in una stringa di connessione:</p><div class="sampleCode"><span codeLanguage="other"><pre>String connectionUrl = 
    "jdbc:sqlserver://localhost:1433;" +
     "databaseName=AdventureWorks;integratedSecurity=true;" +
     "encrypt=true; trustServerCertificate=false;" +
     "trustStore=storeName;trustStorePassword=storePassword" +
     "hostNameInCertificate=hostName";</pre></span></div><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>In alternativa, è possibile impostare il valore delle proprietà di connessione utilizzando i metodi <span sdata="langKeyword" value="setter"><span class="keyword">setter</span></span> appropriati forniti dalla classe <a href="097434fd-2b74-411c-a5ed-eba04481dde5.htm">SQLServerDataSource</a>.</p></div><p>Se la proprietà di connessione <span class="label">encrypt</span> è impostata su <span sdata="langKeyword" value="true"><span class="keyword">true</span></span>, la proprietà <span class="label">trustServerCertificate</span> è impostata su <span sdata="langKeyword" value="false"><span class="keyword">false</span></span> e il nome del server nella stringa di connessione non corrisponde al nome del server nel certificato SSL di SQL Server, viene restituito il seguente errore: Impossibile stabilire una connessione protetta a SQL Server mediante la crittografia SSL (Secure Sockets Layer). Errore: "java.security.cert.CertificateException: Impossibile convalidare il nome del server in un certificato durante l'inizializzazione di SSL (Secure Sockets Layer)".</p></div><span id="seeAlsoSpan"><h1 class="heading">Vedere anche</h1></span><div id="seeAlsoSection" class="section" name="collapseableSection" style=""><div class="seeAlsoStyle"><span sdata="link"><a href="8e566243-2f93-4b21-8065-3c8336649309.htm">Utilizzo della crittografia SSL</a></span></div><div class="seeAlsoStyle"><span sdata="link"><a href="90724ec6-a9cb-43ef-903e-793f89410bc0.htm">Protezione delle applicazioni del driver JDBC</a></span></div></div></div><div id="footer" class="section"><span id="feedbackarea">Inviare <a href="javascript:SubmitFeedback('DevDocs@Microsoft.com','','','','8.0.12060.10000','%0\dThank%20you%20for%20your%20feedback.%20The%20developer%20writing%20teams%20use%20your%20feedback%20to%20improve%20documentation.%20While%20we%20are%20reviewing%20your%20feedback,%20we%20may%20send%20you%20e-mail%20to%20ask%20for%20clarification%20or%20feedback%20on%20a%20solution.%20We%20do%20not%20use%20your%20e-mail%20address%20for%20any%20other%20purpose%20and%20we%20delete%20it%20after%20we%20finish%20our%20review.%0\AFor%20further%20information%20about%20the%20privacy%20policies%20of%20Microsoft,%20please%20see%20http://privacy.microsoft.com/it-it/default.aspx.%0\A%0\d','Customer%20Feedback');">commenti e suggerimenti</a> su questo argomento a Microsoft.</span><span id="copyrightarea"><p><a href="9bad553b-9e70-4696-8499-2e35f772a1e0.htm">© 2012 Microsoft. Tutti i diritti sono riservati.</a></p></span></div></div></body></html>