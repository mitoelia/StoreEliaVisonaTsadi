<html xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:MSHelp="http://msdn.microsoft.com/mshelp" xmlns:mshelp="http://msdn.microsoft.com/mshelp" xmlns:ddue="http://ddue.schemas.microsoft.com/authoring/2003/5" xmlns:msxsl="urn:schemas-microsoft-com:xslt"><head><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=UTF-8" /><META NAME="save" CONTENT="history" /><title>Informazioni sul supporto SSL</title><meta name="Language" content="it-it" /><meta name="System.Keywords" content="crittografia" /><meta name="System.Keywords" content="SSL" /><meta name="Microsoft.Help.Id" content="073f3b9e-8edd-4815-88ea-de0655d0325e" /><meta name="Description" content="Se durante la connessione a SQL Server dall'applicazione viene richiesta la crittografia e l'istanza di SQL Server è configurata per supportare la crittografia SSL, tramite Microsoft JDBC Driver per SQL Server viene avviato l'handshake SSL." /><meta name="Microsoft.Help.ContentType" content="Concepts" /><link rel="stylesheet" type="text/css" href="../local/Classic.css" /><script type="text/javascript" src="../scripts/EventUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/SplitScreen.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/Dropdown.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_manifold.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/script_feedBack.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CheckboxMenu.js">&amp;nbsp;</script><script type="text/javascript" src="../scripts/CommonUtilities.js">&amp;nbsp;</script><script type="text/javascript" src="../local/script_main.js">&amp;nbsp;</script></head><body><div id="header"><table id="bottomTable" cellpadding="0" cellspacing="0"><tr><td align="left"><span id="headerBold">Informazioni sul supporto SSL</span></td></tr></table><table id="gradientTable"><tr><td class="nsrBottom" background="../icons/gradient.gif" /></tr></table></div><div id="mainSection"><div id="mainBody"><div class="introduction"><p>Se durante la connessione a SQL Server dall'applicazione viene richiesta la crittografia e l'istanza di SQL Server è configurata per supportare la crittografia SSL, tramite Microsoft JDBC Driver per SQL Server viene avviato l'handshake SSL. L'handshake consente al server e al client di negoziare la crittografia e gli algoritmi di crittografia da utilizzare per proteggere i dati. Al termine dell'handshake SSL, il client e il server possono inviare in modo protetto i dati crittografati. Durante l'handshake SSL, il server invia il proprio certificato chiave pubblica al client. L'autorità emittente di un certificato chiave pubblica è nota come Autorità di certificazione (CA). Il client è responsabile della convalida dell'attendibilità dell'Autorità di certificazione per il client stesso.</p><p>Se la crittografia non è richiesta dall'applicazione, tramite Microsoft JDBC Driver per SQL Server non viene forzato il supporto della crittografia SSL in SQL Server. Se l'istanza di SQL Server non è configurata per forzare la crittografia SSL, viene stabilita una connessione senza crittografia. Se l'istanza di SQL Server è configurata per forzare la crittografia SSL, quest'ultima verrà abilitata automaticamente dal driver JDBC durante l'esecuzione in un ambiente Java Virtual Machine (JVM) correttamente configurato. In caso contrario, la connessione verrà terminata e verrà restituito un errore.</p><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>Perché una connessione SSL riesca, assicurarsi che il valore passato a <span sdata="langKeyword" value="serverName"><span class="keyword">serverName</span></span> corrisponda esattamente al nome comune o al nome DNS nel nome SAN nel certificato del server.</p></div><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>Per ulteriori informazioni su come configurare SSL per SQL Server, vedere l'argomento Crittografia delle connessioni a SQL Server nella documentazione online di SQL Server.</p></div></div><h1 class="heading">Osservazioni</h1><div id="sectionSection0" class="section" name="collapseableSection" style=""><p>Per consentire alle applicazioni di utilizzare la crittografia SSL, a partire dalla versione 1.2 di Microsoft JDBC Driver per SQL Server sono state introdotte le proprietà di connessione <span class="label">encrypt</span>, <span class="label">trustServerCertificate</span>, <span class="label">trustStore</span>, <span class="label">trustStorePassword</span> e <span class="label">hostNameInCertificate</span>. Per ulteriori informazioni, vedere <span sdata="link"><a href="f1b62700-f046-488d-bd6b-a5cd8fc345b7.htm">Impostazione delle proprietà delle connessioni</a></span>.</p><p>Nella tabella seguente è incluso un riepilogo del comportamento della versione di Microsoft JDBC Driver per SQL Server per i possibili scenari di connessione SSL. In ogni scenario viene utilizzato un set di proprietà di connessione SSL diverso. La tabella include i valori seguenti: </p><ul><li><p><span sdata="langKeyword" value="blank"><span class="keyword">blank</span></span>: "La proprietà non esiste nella stringa di connessione"</p></li><li><p><span sdata="langKeyword" value="value"><span class="keyword">value</span></span>: "La proprietà esiste nella stringa di connessione e il relativo valore è valido"</p></li><li><p><span sdata="langKeyword" value="any"><span class="keyword">any</span></span>: "Non è rilevante se la proprietà è presente nella stringa di connessione o se il relativo valore è valido"</p></li></ul><div style="margin: .5em 1.5em .5em 1.5em"><b></b><p>Lo stesso comportamento si applica all'autenticazione utente di SQL Server e all'autenticazione integrata di Windows.</p></div><div class="tableSection"><table width="50%" cellspacing="2" cellpadding="5" frame="lhs"><tr><th><p>encrypt</p></th><th><p>trustServerCertificate</p></th><th><p>hostNameInCertificate</p></th><th><p>trustStore</p></th><th><p>trustStorePassword</p></th><th><p>Comportamento</p></th></tr><tr><td><p>false o blank</p></td><td><p>any</p></td><td><p>any</p></td><td><p>any</p></td><td><p>any</p></td><td><p>Il supporto della crittografia SSL in SQL Server non viene forzato da Microsoft JDBC Driver per SQL Server. Se il server dispone di un certificato autofirmato, tramite il driver viene avviato lo scambio del certificato SSL. Il certificato SSL non viene convalidato e vengono crittografate solo le credenziali, nel pacchetto di accesso.</p><p>Se il server richiede il supporto della crittografia SSL da parte del client, tramite il driver viene avviato lo scambio del certificato SSL. Il certificato SSL non viene convalidato, ma viene crittografata l'intera comunicazione.</p></td></tr><tr><td><p>true</p></td><td><p>true</p></td><td><p>any</p></td><td><p>any</p></td><td><p>any</p></td><td><p>Da Microsoft JDBC Driver per SQL Server viene richiesto di utilizzare la crittografia SSL con SQL Server. </p><p>Se il server supporta la crittografia o richiede il supporto della crittografia SSL da parte del client, tramite il driver viene avviato lo scambio del certificato SSL. Si noti che se la proprietà <span class="label">trustServerCertificate</span> è impostata su "true", il certificato SSL non viene convalidato dal driver.</p><p>Se il server non è configurato per supportare la crittografia, verrà generato un errore e la connessione verrà terminata.</p></td></tr><tr><td><p>true</p></td><td><p>false o blank</p></td><td><p>blank</p></td><td><p>blank</p></td><td><p>blank</p></td><td><p>Da Microsoft JDBC Driver per SQL Server viene richiesto di utilizzare la crittografia SSL con SQL Server. </p><p>Se il server supporta la crittografia o richiede il supporto della crittografia SSL da parte del client, tramite il driver viene avviato lo scambio del certificato SSL. </p><p>La proprietà <span class="label">serverName</span> specificata nell'URL di connessione viene utilizzata dal driver per convalidare il certificato SSL del server e le regole di ricerca della factory del gestore di attendibilità vengono utilizzate per determinare l'archivio certificati da utilizzare.</p><p>Se il server non è configurato per supportare la crittografia, verrà generato un errore e la connessione verrà terminata.</p></td></tr><tr><td><p>true</p></td><td><p>false o blank</p></td><td><p>value</p></td><td><p>blank</p></td><td><p>blank</p></td><td><p>Da Microsoft JDBC Driver per SQL Server viene richiesto di utilizzare la crittografia SSL con SQL Server. </p><p>Se il server supporta la crittografia o richiede il supporto della crittografia SSL da parte del client, tramite il driver viene avviato lo scambio del certificato SSL. </p><p>Il valore del soggetto del certificato SSL viene convalidato dal driver utilizzando il valore specificato per la proprietà <span class="label">hostNameInCertificate</span>.</p><p>Se il server non è configurato per supportare la crittografia, verrà generato un errore e la connessione verrà terminata.</p></td></tr><tr><td><p>true</p></td><td><p>false o blank</p></td><td><p>blank</p></td><td><p>value</p></td><td><p>value</p></td><td><p>Da Microsoft JDBC Driver per SQL Server viene richiesto di utilizzare la crittografia SSL con SQL Server. </p><p>Se il server supporta la crittografia o richiede il supporto della crittografia SSL da parte del client, tramite il driver viene avviato lo scambio del certificato SSL. </p><p>Il valore della proprietà <span class="label">trustStore</span> viene utilizzato dal driver per cercare il file trustStore del certificato, mentre il valore della proprietà <span class="label">trustStorePassword</span> viene utilizzato per controllare l'integrità del file trustStore.</p><p>Se il server non è configurato per supportare la crittografia, verrà generato un errore e la connessione verrà terminata.</p></td></tr><tr><td><p>true</p></td><td><p>false o blank</p></td><td><p>blank</p></td><td><p>blank</p></td><td><p>value</p></td><td><p>Da Microsoft JDBC Driver per SQL Server viene richiesto di utilizzare la crittografia SSL con SQL Server.</p><p>Se il server supporta la crittografia o richiede il supporto della crittografia SSL da parte del client, tramite il driver viene avviato lo scambio del certificato SSL. </p><p>Il valore della proprietà <span class="label">trustStorePassword</span> viene utilizzato dal driver per controllare l'integrità del file trustStore predefinito.</p><p>Se il server non è configurato per supportare la crittografia, verrà generato un errore e la connessione verrà terminata.</p></td></tr><tr><td><p>true</p></td><td><p>false o blank</p></td><td><p>blank</p></td><td><p>value</p></td><td><p>blank</p></td><td><p>Da Microsoft JDBC Driver per SQL Server viene richiesto di utilizzare la crittografia SSL con SQL Server. </p><p>Se il server supporta la crittografia o richiede il supporto della crittografia SSL da parte del client, tramite il driver viene avviato lo scambio del certificato SSL. </p><p>Il valore della proprietà <span class="label">trustStore</span> viene utilizzato dal driver per cercare la posizione del file trustStore.</p><p>Se il server non è configurato per supportare la crittografia, verrà generato un errore e la connessione verrà terminata.</p></td></tr><tr><td><p>true</p></td><td><p>false o blank</p></td><td><p>value</p></td><td><p>blank</p></td><td><p>value</p></td><td><p>Da Microsoft JDBC Driver per SQL Server viene richiesto di utilizzare la crittografia SSL con SQL Server. </p><p>Se il server supporta la crittografia o richiede il supporto della crittografia SSL da parte del client, tramite il driver viene avviato lo scambio del certificato SSL. </p><p>Il valore della proprietà <span class="label">trustStorePassword</span> viene utilizzato dal driver per controllare l'integrità del file trustStore predefinito. Viene inoltre utilizzato il valore della proprietà <span class="label">hostNameInCertificate</span> per convalidare il certificato SSL.</p><p>Se il server non è configurato per supportare la crittografia, verrà generato un errore e la connessione verrà terminata.</p></td></tr><tr><td><p>true</p></td><td><p>false o blank</p></td><td><p>value</p></td><td><p>value</p></td><td><p>blank</p></td><td><p>Da Microsoft JDBC Driver per SQL Server viene richiesto di utilizzare la crittografia SSL con SQL Server. </p><p>Se il server supporta la crittografia o richiede il supporto della crittografia SSL da parte del client, tramite il driver viene avviato lo scambio del certificato SSL. </p><p>Il valore della proprietà <span class="label">trustStore</span> viene utilizzato dal driver per cercare la posizione del file trustStore. Viene inoltre utilizzato il valore della proprietà <span class="label">hostNameInCertificate</span> per convalidare il certificato SSL.</p><p>Se il server non è configurato per supportare la crittografia, verrà generato un errore e la connessione verrà terminata.</p></td></tr><tr><td><p>true</p></td><td><p>false o blank</p></td><td><p>value</p></td><td><p>value</p></td><td><p>value</p></td><td><p>Da Microsoft JDBC Driver per SQL Server viene richiesto di utilizzare la crittografia SSL con SQL Server. </p><p>Se il server supporta la crittografia o richiede il supporto della crittografia SSL da parte del client, tramite il driver viene avviato lo scambio del certificato SSL. </p><p>Il valore della proprietà <span class="label">trustStore</span> viene utilizzato dal driver per cercare il file trustStore del certificato, mentre il valore della proprietà <span class="label">trustStorePassword</span> viene utilizzato per controllare l'integrità del file trustStore. Viene inoltre utilizzato il valore della proprietà <span class="label">hostNameInCertificate</span> per convalidare il certificato SSL.</p><p>Se il server non è configurato per supportare la crittografia, verrà generato un errore e la connessione verrà terminata.</p></td></tr></table></div><p>Se la proprietà di crittografia è impostata su <span sdata="langKeyword" value="true"><span class="keyword">true</span></span>, tramite Microsoft JDBC Driver per SQL Server viene utilizzato il provider di sicurezza JSSE predefinito di JVM per negoziare la crittografia SSL con SQL Server. È possibile che il provider di sicurezza predefinito non supporti tutte le caratteristiche necessarie per negoziare la crittografia SSL. Tale provider può ad esempio non supportare la dimensione della chiave pubblica RSA utilizzata nel certificato SSL di SQL Server. In questo caso, è possibile che venga generato un errore dal provider di sicurezza predefinito, a causa del quale la connessione viene terminata dal driver JDBC. Per risolvere il problema, effettuare una delle operazioni seguenti:</p><ul><li><p>Configurare SQL Server con un certificato del server con una chiave pubblica RSA più piccola.</p></li><li><p>Configurare JVM per l'utilizzo di un provider di sicurezza JSSE diverso nel file delle proprietà di sicurezza "&lt;java-home&gt;/lib/security/java.security".</p></li><li><p>Utilizzare una versione di JVM diversa.</p></li></ul></div><h1 class="heading">Convalida del certificato SSL del server</h1><div id="sectionSection1" class="section" name="collapseableSection" style=""><p>Durante l'handshake SSL, il server invia il proprio certificato chiave pubblica al client. Il driver JDBC o il client deve convalidare che il certificato del server sia stato emesso da un'Autorità di certificazione considerata attendibile dal client. Il driver richiede che il certificato del server soddisfi le condizioni seguenti:</p><ul><li><p>Il certificato è stato emesso da un'Autorità di certificazione attendibile.</p></li><li><p>Il certificato deve essere emesso per l'autenticazione del server.</p></li><li><p>Il certificato non è scaduto.</p></li><li><p>Il nome comune nell'oggetto o un nome DNS nel nome SAN (Subject Alternate Name) del certificato corrisponde esattamente al valore <span sdata="langKeyword" value="serverName"><span class="keyword">serverName</span></span> specificato nell stringa di connessione o, se specificato, al valore della proprietà <span sdata="langKeyword" value="hostNameInCertificate"><span class="keyword">hostNameInCertificate</span></span>.</p></li><li><p>Un nome DNS può includere caratteri jolly. La corrispondenza dei caratteri jolly non è tuttavia supportata da Microsoft JDBC Driver per SQL Server. Di conseguenza, abc.com non corrisponderà a *.com, ma *.com corrisponderà a *.com.</p></li></ul></div><span id="seeAlsoSpan"><h1 class="heading">Vedere anche</h1></span><div id="seeAlsoSection" class="section" name="collapseableSection" style=""><div class="seeAlsoStyle"><span sdata="link"><a href="8e566243-2f93-4b21-8065-3c8336649309.htm">Utilizzo della crittografia SSL</a></span></div><div class="seeAlsoStyle"><span sdata="link"><a href="90724ec6-a9cb-43ef-903e-793f89410bc0.htm">Protezione delle applicazioni del driver JDBC</a></span></div></div></div><div id="footer" class="section"><span id="feedbackarea">Inviare <a href="javascript:SubmitFeedback('DevDocs@Microsoft.com','','','','8.0.12060.10000','%0\dThank%20you%20for%20your%20feedback.%20The%20developer%20writing%20teams%20use%20your%20feedback%20to%20improve%20documentation.%20While%20we%20are%20reviewing%20your%20feedback,%20we%20may%20send%20you%20e-mail%20to%20ask%20for%20clarification%20or%20feedback%20on%20a%20solution.%20We%20do%20not%20use%20your%20e-mail%20address%20for%20any%20other%20purpose%20and%20we%20delete%20it%20after%20we%20finish%20our%20review.%0\AFor%20further%20information%20about%20the%20privacy%20policies%20of%20Microsoft,%20please%20see%20http://privacy.microsoft.com/it-it/default.aspx.%0\A%0\d','Customer%20Feedback');">commenti e suggerimenti</a> su questo argomento a Microsoft.</span><span id="copyrightarea"><p><a href="9bad553b-9e70-4696-8499-2e35f772a1e0.htm">© 2012 Microsoft. Tutti i diritti sono riservati.</a></p></span></div></div></body></html>